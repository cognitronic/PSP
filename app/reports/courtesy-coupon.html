<div class="container view-container" ng-cloak>
	<div class="row-fluid">
		<h3>Courtesy Coupon Notifications</h3>
		<div class="container-header">

		</div>
		<div class="row">
			<div class="col-lg-12 col-md-12 col-sm-12">
				<div>
					<b class="messagecontainer">Comma separated list of email addresses:</b>
					<p>
						<input class="form-control" type="text" ng-model="courtesyModel.emails"/>
					</p>
				</div>
				<div>
					<button class="btn " id="run" ng-click="courtesyModel.sendCoupons()" ng-disabled="!courtesyModel.emails">
						<i class="glyphicon glyphicon-play"></i> Send Coupon
					</button>&nbsp;
				</div>
			</div>
		</div>
	</div>
</div>
<div class="container view-container-last">
	<br />
	<div class="row-fluid">
		<h3>Sent Coupons</h3>
		<table class="table table-hover table-striped">
			<thead>
			<tr class="bg-primary">
				<th>Emails</th>
				<th>Date Sent</th>
				<th>Code</th>
			</tr>
			</thead>
			<tbody>
			<tr ng-repeat="coupon in courtesyModel.sentCoupons">
				<td>{{ coupon.assignedemail }}</td>
				<td>{{ coupon.dateassigned | date:'MM/dd/yyyy @ h:mma'  }}</td>
				<td>{{ coupon.codetext }}</td>
			</tr>
			</tbody>
		</table>
	</div>
	<button class="btn " ng-hide="courtesyModel.pagination.page == 0" ng-click="courtesyModel.pagination.prevPage()">Previous</button>
    <span ng-repeat="n in [] | range: courtesyModel.pagination.numPages" >
        <button class="btn btn-default" ng-class="{active: n == courtesyModel.pagination.page}" ng-click="courtesyModel.pagination.toPageId(n)">{{n + 1}}</button>
    </span>
	<button class="btn" ng-hide="courtesyModel.pagination.page + 1 >= courtesyModel.pagination.numPages" ng-click="courtesyModel.pagination.nextPage()">Next</button>
</div>
